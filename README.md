## 项目中期检查报告

## 项目名称：基于系统调用重载的基本型文件保险箱
 
### 一、	项目开发目标
用户需要为重要数据提供严格的安全保障，因此设计一个专属于用户的文件夹保险箱用于数据存储，同时开发一个保险箱管理程序对文件保险箱内的数据进行增删查，并通过系统调用重载保证该文件夹不会被其它人查看、访问、修改以及删除。
希望该程序具有较好的用户体验，满足用户各种操作需求和使用习惯。并在安全审计、安全加固两方面进行扩展。

### 二、	项目开发内容
1）满足用户的各种操作需求，包括增删查保险箱内的相关文件（文件信息存放于数据库）。
2）通过系统调用重载保证该文件夹不会被其它人查看、访问、修改以及删除。
（即重载内核相关函数，在执行原操作前通过netlink与用户态守护进程通信，查询相关文件是否在该用户的保险箱内）。
3）该文件夹保险箱需要进行额外的安全加固，以防御各种恶意攻击。包括对文件夹内数据进行加解密以防止文件被u盘内的os启动后解密等。
4）该文件夹保险箱需要对于非法操作的尝试予以记录，完成安全审计。
5）从软件鲁棒性的角度需要进行额外考虑，比如系统突然关机，未能及时更新状态以及加密的情况。

### 三、	项目进展情况
1）完成用户管理程序，即可对数据库的操作，增删查保险箱内的文件

2）完成了守护程序，可以和内核态通信，通过查询数据库返回该用户是否有对该文件操作的权利（重载的操作函数包括open，read，write）

3）完成了加解密函数的设计

### 四、	目前存在的问题及建议
在之前的总体设计中存在两个考虑欠妥的地方：

1）内核态不能直接查看文件数据库，需要在用户态设计一个守护进程与内核通信完成保险箱数据库中文件特权的查询
2）在用户间不可见的功能要求下，用户管理程序只是操作数据库增删文件、查保险箱内的文件有哪些，而不是解析数据查看文件内容，所以加解密不能做在用户态而要做在内核态，不过这涉及了用户态和内核态加解密密钥的传递。

### 五、	下一阶段工作安排
1）完成更多的重载函数设计，包括查询、移动、创建软链接等
2）加解密函数下一步需要引入内核态进行测试，以及设计密钥传输过程
3）安全审计部分的继续完成
4）在内核态的整合安全审计和一般的netlink通信














